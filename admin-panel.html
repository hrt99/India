<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Independence Day Admin Panel</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; }
    .header { background: linear-gradient(135deg, #ff9933, #138808); color: white; padding: 20px; text-align: center; }
    .container { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center; }
    .stat-number { font-size: 2rem; font-weight: bold; color: #ff9933; }
    .stat-label { color: #666; margin-top: 5px; }
    .data-section { background: white; border-radius: 10px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .data-section h3 { color: #333; margin-bottom: 15px; border-bottom: 2px solid #ff9933; padding-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
    th { background: #f8f9fa; font-weight: 600; }
    .btn { background: #ff9933; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #e6851a; }
    .btn-danger { background: #dc3545; }
    .btn-danger:hover { background: #c82333; }
    .export-btn { background: #138808; margin: 10px 5px; }
    .export-btn:hover { background: #0f6b06; }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8527670891879882"
     crossorigin="anonymous"></script>
</head>
<body>
  <div class="header">
    <h1>üáÆüá≥ Independence Day Admin Panel</h1>
    <p>Manage website data and view analytics</p>
  </div>

  <div class="container">
    <!-- Statistics -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" id="totalVisitors">0</div>
        <div class="stat-label">Total Visitors</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="certificatesGenerated">0</div>
        <div class="stat-label">Certificates Generated</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalShares">0</div>
        <div class="stat-label">Total Shares</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="activeUsers">0</div>
        <div class="stat-label">Active Users (24h)</div>
      </div>
    </div>

    <!-- Export Options -->
    <div class="data-section">
      <h3>üìä Export Data</h3>
      <button class="btn export-btn" onclick="exportData('visitors')">Export Visitors</button>
      <button class="btn export-btn" onclick="exportData('certificates')">Export Certificates</button>
      <button class="btn export-btn" onclick="exportData('shares')">Export Shares</button>
      <button class="btn export-btn" onclick="exportData('all')">Export All Data</button>
    </div>

    <!-- Certificates Data -->
    <div class="data-section">
      <h3>üèÜ Generated Certificates</h3>
      <table id="certificatesTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>City</th>
            <th>Generated At</th>
            <th>Downloaded</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="certificatesBody">
          <!-- Data will be loaded here -->
        </tbody>
      </table>
    </div>

    <!-- Visitor Analytics -->
    <div class="data-section">
      <h3>üë• Visitor Analytics</h3>
      <table id="visitorsTable">
        <thead>
          <tr>
            <th>IP Address</th>
            <th>Location</th>
            <th>Visit Time</th>
            <th>Pages Viewed</th>
            <th>Time Spent</th>
          </tr>
        </thead>
        <tbody id="visitorsBody">
          <!-- Data will be loaded here -->
        </tbody>
      </table>
    </div>

    <!-- Share Analytics -->
    <div class="data-section">
      <h3>üì§ Share Analytics</h3>
      <table id="sharesTable">
        <thead>
          <tr>
            <th>Platform</th>
            <th>Shares Count</th>
            <th>Last Shared</th>
            <th>Engagement Rate</th>
          </tr>
        </thead>
        <tbody id="sharesBody">
          <!-- Data will be loaded here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Sample data - replace with actual database calls
    const sampleData = {
      visitors: [
        { ip: '192.168.1.1', location: 'Mumbai, India', visitTime: '2025-01-15 10:30:00', pagesViewed: 5, timeSpent: '8m 45s' },
        { ip: '192.168.1.2', location: 'Delhi, India', visitTime: '2025-01-15 11:15:00', pagesViewed: 3, timeSpent: '5m 20s' },
        { ip: '192.168.1.3', location: 'Bangalore, India', visitTime: '2025-01-15 12:00:00', pagesViewed: 7, timeSpent: '12m 30s' }
      ],
      certificates: [
        { name: 'Rajesh Kumar', city: 'Mumbai', generatedAt: '2025-01-15 10:45:00', downloaded: true },
        { name: 'Priya Sharma', city: 'Delhi', generatedAt: '2025-01-15 11:30:00', downloaded: true },
        { name: 'Amit Patel', city: 'Ahmedabad', generatedAt: '2025-01-15 12:15:00', downloaded: false }
      ],
      shares: [
        { platform: 'WhatsApp', count: 1250, lastShared: '2025-01-15 12:30:00', engagement: '85%' },
        { platform: 'Facebook', count: 890, lastShared: '2025-01-15 12:25:00', engagement: '72%' },
        { platform: 'Twitter', count: 650, lastShared: '2025-01-15 12:20:00', engagement: '68%' }
      ]
    };

    // Load data on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadStats();
      loadCertificates();
      loadVisitors();
      loadShares();
    });

    function loadStats() {
      document.getElementById('totalVisitors').textContent = '25,847';
      document.getElementById('certificatesGenerated').textContent = '12,394';
      document.getElementById('totalShares').textContent = '8,756';
      document.getElementById('activeUsers').textContent = '1,234';
    }

    function loadCertificates() {
      const tbody = document.getElementById('certificatesBody');
      tbody.innerHTML = '';
      
      sampleData.certificates.forEach(cert => {
        const row = tbody.insertRow();
        row.innerHTML = `
          <td>${cert.name}</td>
          <td>${cert.city}</td>
          <td>${cert.generatedAt}</td>
          <td>${cert.downloaded ? '‚úÖ Yes' : '‚ùå No'}</td>
          <td>
            <button class="btn" onclick="viewCertificate('${cert.name}')">View</button>
            <button class="btn btn-danger" onclick="deleteCertificate('${cert.name}')">Delete</button>
          </td>
        `;
      });
    }

    function loadVisitors() {
      const tbody = document.getElementById('visitorsBody');
      tbody.innerHTML = '';
      
      sampleData.visitors.forEach(visitor => {
        const row = tbody.insertRow();
        row.innerHTML = `
          <td>${visitor.ip}</td>
          <td>${visitor.location}</td>
          <td>${visitor.visitTime}</td>
          <td>${visitor.pagesViewed}</td>
          <td>${visitor.timeSpent}</td>
        `;
      });
    }

    function loadShares() {
      const tbody = document.getElementById('sharesBody');
      tbody.innerHTML = '';
      
      sampleData.shares.forEach(share => {
        const row = tbody.insertRow();
        row.innerHTML = `
          <td>${share.platform}</td>
          <td>${share.count}</td>
          <td>${share.lastShared}</td>
          <td>${share.engagement}</td>
        `;
      });
    }

    function exportData(type) {
      let data, filename;
      
      switch(type) {
        case 'visitors':
          data = sampleData.visitors;
          filename = 'visitors_data.csv';
          break;
        case 'certificates':
          data = sampleData.certificates;
          filename = 'certificates_data.csv';
          break;
        case 'shares':
          data = sampleData.shares;
          filename = 'shares_data.csv';
          break;
        case 'all':
          data = sampleData;
          filename = 'all_data.json';
          break;
      }
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
      
      alert(`${type} data exported successfully!`);
    }

    function viewCertificate(name) {
      alert(`Viewing certificate for: ${name}`);
    }

    function deleteCertificate(name) {
      if(confirm(`Are you sure you want to delete certificate for ${name}?`)) {
        alert(`Certificate for ${name} deleted successfully!`);
        loadCertificates();
      }
    }

    // Auto-refresh data every 30 seconds
    setInterval(() => {
      loadStats();
      loadCertificates();
      loadVisitors();
      loadShares();
    }, 30000);
  </script>
</body>
</html>